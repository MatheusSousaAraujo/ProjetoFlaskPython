{% extends "base.html" %}

{% block title %}
<title>Meus Contatos</title>
{% endblock %}



{% block content %}
<div class="container mt-4">

    <h1 class="text-center mb-4">Meus Contatos</h1>

    <div class="list-group">
        {% for contato in contatos %}
        <div class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <h3 class="fw-bold mb-2">{{ contato.name }}</h3>
                <div class="me-4">
                    <h6><span class="fw-semibold">Email:</span> {{ contato.email }} / <span
                            class="fw-semibold">Celular:</span> {{ contato.celular }}</h6>
                </div>
            </div>
            <div class="d-flex">
            
                <a href="{{ url_for('mensagem', contato_id=contato.id) }}" class="btn btn-primary btn-sm mr-2">
                    <i class="bi bi-chat-dots-fill"></i> Mensagem
                </a>

                <a href="{{ url_for('editar_contato', contato_id=contato.id) }}" class="btn btn-secondary btn-sm mr-2">
                    <i class="bi bi-pencil-fill"></i> Editar
                </a>

                <form action="{{ url_for('excluir_contato', contato_id=contato.id) }}" method="post"
                    onsubmit="return confirm('Tem certeza que deseja excluir este contato?');">
                    <button type="submit" class="btn btn-danger btn-sm">
                        <i class="bi bi-trash-fill"></i> Excluir
                    </button>
                </form>
            </div>


        </div>
        {% else %}
        <div class="list-group-item">
            <div class="text-center text-muted">Nenhum contato cadastrado.</div>
        </div>
        {% endfor %}
    </div>

    <div class="d-flex justify-content-between mt-5">
        <a href="{{ url_for('contato') }}" class="btn btn-success">
            <i class="bi bi-person-plus-fill"></i> Novo Contato
        </a>
        <button type="button" class="btn btn-danger" onclick="history.back()">
            <i class="bi bi-box-arrow-left"></i> Voltar
        </button>
    </div>

</div>
{% endblock %}